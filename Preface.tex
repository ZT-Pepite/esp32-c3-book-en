\documentclass[a4paper,12pt]{book}
\input{preamble}

\begin{document}

\maketitle

%\tableofcontents

\newpage
\begin{center}
    \textcolor{Title}{\large\bfseries Introduction}
\end{center}
ESP32-C3 is a single-core Wi-Fi and Bluetooth 5 (LE) microcontroller SoC, based on the open-source RISC-V architecture. It strikes the right balance of power, I/O capabilities, and security, thus offering the optimal cost-effective solution for connected devices. To show various applications of the ESP32-C3 family, this book by Espressif will take you on an interesting journey through AIoT, starting from the basics of IoT project development and environment setup to practical examples. The first four chapters talk about IoT, ESP RainMaker and ESP-IDF. Chapter 5 and 6 brief on hardware design and driver development. As you progress, you’ll discover how to configure your project through Wi-Fi networks and mobile Apps. Finally, you’ll learn to optimize your project and put it into mass production.

If you are an engineer in related fields, a software architect, a teacher, a student, or anyone who has an interest in IoT, this book is for you.

You may download the code example used in this book from Espressif’s site on GitHub. For latest information on IoT development, please follow our official account.

% Preface
\newpage
\begin{center}
    \textcolor{Title}{\LARGE\bfseries Preface}
\end{center}

\subsection*{An Informatising World}
Riding the wave of Internet, Internet of Things (IoT) made its grand debut to become a new type of infrastructure in digital economy. To bring the technology closer to the public, Espressif Systems works for the vision that developers from all walks of life can use IoT to solve some of the most pressing problems of our times. A world of “Intelligent Network of All Things” is what we are expecting from the future.

Designing our own chips makes a critical component of that vision. It is to be a marathon, requiring constant breakthroughs against technological boundaries. From the “Game Changer” ESP8266 to the ESP32 series integrating Wi-Fi and Bluetooth$^\circledR$ (LE) connectivity, followed by ESP32-S3 equipped by AI acceleration, Espressif never stops researching and developing products for AIoT solutions. With our open-source software, such as the IoT Development Framework ESP-IDF, Mesh Development Framework ESP-MDF, and Device Connectivity Platform ESP RainMaker, we have created an independent framework for building AIoT applications.

As of July 2022, the cumulative shipments of Espressif’s IoT chipsets have exceeded 800 million, leading in the Wi-Fi MCU market and powering up a huge number of connected devices worldwide. Pursuit for excellence makes every Espressif product a big hit for its high level of integration and cost efficiency. The release of ESP32-C3 marks a significant milestone of Espressif’s self-developed technology. It is a single-core, 32-bit, \textbf{RISC-V-based} MCU with 400KB of SRAM, which can run at 160MHz. It has integrated 2.4 GHz Wi-Fi and Bluetooth 5 (LE) with a long-range support. It strikes a fine balance of power, I/O capabilities, and security, thus offering the optimal cost-effective solution for connected devices. Based on such powerful ESP32-C3, this book is intended to help readers understand IoT-related knowledge with detailed illustration and practical examples.

\subsection*{Why we wrote this book?}
Espressif Systems is more than a semiconductor company. It is also an IoT platform company, which always strives for breakthroughs and innovations in the field of technology. At the same time, Espressif has open-sourced and shared its self-developed operating system and software framework with the community, forming a unique ecosystem. Engineers, makers, and technology enthusiasts actively develop new software applications based on Espressif’s products, freely communicate, and share their experience. You can see developers’ fascinating ideas on various platforms all the time, such as YouTube and GitHub. The popularity of Espressif’s products has stimulated an increasing number of authors who have produced over 100 books based on Espressif chipsets, in more than ten languages, including English, Chinese, German, French, and Japanese.

It is the support and trust of community partners that encourages Espressif's continuous innovation. “We strive to make our chips, operating systems, frameworks, solutions, Cloud, business practices, tools, documentation, writings, ideas, etc., ever more relevant to the answers people need in contemporary life’s most pressing problems. This is Espressif’s highest ambition and moral compass.” said Mr. Teo Swee Ann, Founder and CEO of Espressif.

Espressif values reading and ideas. As the continuous upgrading of IoT technology poses higher requirements on engineers, how can we help more people to quickly master IoT chips, operating systems, software frameworks, application schemes and cloud service products? As the saying goes, it is better to teach a man how to fish than to give him fish. In a brainstorming session, it occurred to us that we could write a book to systematically sort out the key knowledge of IoT development. We hit it off, quickly gathered a group of senior engineers, and combined the experience of the technical team in embedded programming, IoT hardware and software development, all contributing to the publishing of this book. In the process of writing, we tried our best to be objective and fair, stripped of the cocoon, and use concise expressions to tell the complexity and charm of the Internet of Things. We carefully summarised the common questions, referred to the feedback and suggestions of the community, in order to clearly answer the questions encountered in the development process, and provide practical IoT development guidelines for relevant technicians and decision-makers.

\subsection*{Book Structure}
This book takes an engineer-centred perspective and expounds the necessary knowledge for IoT project development step by step. It is composed of four parts, as follows:
\begin{itemize}
    \item \textbf{Preparation} (Chapter 1–4): This part introduces the architecture of IoT, typical IoT project framework, the ESP RainMaker$^\circledR$ cloud platform, and the development environment ESP-IDF, so as to lay a solid foundation for IoT project development.
    \item \textbf{Hardware and Driver Development} (Chapter 5–6): Based on the ESP32-C3 chipset, this part elaborates on the minimum hardware system and driver development, and implements the control of dimming, colour grading, and wireless communication.
    \item \textbf{Wireless Communication and Control} (Chapter 7–11): This part explains the intelligent Wi-Fi configuration scheme based on ESP32-C3 chip, local \& cloud control protocols, and local \& remote control of devices. It also provides schemes for developing smartphone apps, firmware upgrade, and version management.
    \item \textbf{Optimisation and Mass Production} (Chapter 12-15): This part is intended for advanced IoT applications, focusing on optimisation of products in power management, low-power optimisation, and enhanced security. It also introduces firmware burning and testing in mass production, and how to diagnose the running status and logs of device firmware through the remote monitoring platform ESP Insights.
\end{itemize}

\subsection*{About the Source Code}
Readers can run the example programmes in this book, either by entering the code manually or by using the source code that accompanies the book. We emphasise the combination of theory and practice, and thus set a \textit{Practice} section based on the Smart Light project in almost every chapter. All the codes are open-sourced. Readers are welcome to download the source code and discuss it in the sections related to this book on GitHub and our official forum esp32.com. The open-sourced code of this book is subject to the terms of Apache License 2.0.

\subsection*{Author’s Note}
This book is officially produced by Espressif Systems and is written by the company’s senior engineers. It is suitable for managers and R\&D personnel in IoT-related industries, teachers and students of related majors, and enthusiasts in the field of Internet of Things. We hope that this book can serve as a work manual, a reference, and a bedside book, to be like a good tutor and friend.

While compiling this book, we referred to some relevant research results of experts, scholars, and technicians at home and abroad, and we did our best to cite them according to academic norms. However, it is unavoidable that there should be some omissions, so here we would like to express our deep respect and gratitude to all the relevant authors. In addition, we have quoted information from the Internet, so we would like to thank the original authors and publishers and apologise that we cannot indicate the source of every piece of information.

In order to produce a book of high quality, we have organised rounds of internal discussions, and learned from the suggestions and feedback of trial readers and publisher editors. Here, we would like to thank you again for your help which all contributed to this successful work.

Last, but the most importantly, thanks to everyone at Espressif who has worked so hard for the birth and popularization of our products.

The development of IoT projects involves a wide range of knowledge. Limited to the length of the book, as well as the level and experience of the author, omissions are unavoidable. Therefore, we kindly request that experts and readers criticise and correct our mistakes. If you have any suggestions for this book, please contact us at \texttt{book@espressif.com}. We look forward to your feedback.

{\vspace{6pt}
\RaggedLeft
Espressif Systems

August 8, 2022

}

%\clearpage %blank page
%\begingroup
%\pagestyle{empty}\cleardoublepage
%\endgroup

\newpage
%How to use this book?
\begin{center}
    \textcolor{Title}{\LARGE\bfseries How to use this book?}
\end{center}

\vspace{6pt}
The code of the projects in this book has been open sourced. You can download it from our GitHub repository and share your thoughts and questions on our official forum.

\begin{tabular}{d}
    GitHub: \url{https://github.com/espressif/book-esp32c3-iot-projects}
    
    Forum: \url{https://www.esp32.com/bookc3}
\end{tabular}

Throughout the book, there will be parts highlighted as shown below.

\note[Source code]{In this book, we emphasise the combination of theory and practice, and thus set a \textit{Practice} section about the Smart Light project in almost every chapter. Corresponding steps and source page will be marked between two lines beginning with the tag \textbf{Source code}.}

\vspace{6pt}
\note[NOTE/TIPS]{This is where you may find some critical information and reminding for successfully debugging your programme. They will be marked between two thick lines beginning with the tag \textbf{NOTE} or \textbf{TIPS}.}

Most of the commands in this book are executed under Linux, prompted by the character “\verb|$|”. If the command requires superuser privileges to execute, the prompt will be replaced by “\verb|#|”. The command prompt on Mac systems is “\verb|%|”, as used in Section 4.2.3 Installing ESP-IDF on Mac.

The body text in this book will be printed in Charter, while the code examples, components, functions, variables, code file names, code directories, and strings will be in \texttt{Courier New}.

Commands or texts that need to be input by the user, and commands that can be entered by pressing the “Enter” key will be printed in \textbf{\texttt{Courier New bold}}. Logs and code blocks will be presented in \colorbox{LightBlue}{light blue boxes}.

\vspace{6pt}
\textcolor{Title}{\large\bfseries Example:}

Second, use \texttt{esp-idf/components/nvs\_flash/nvs\_partition\_generator/nvs\_\\
partition\_gen.py} to generate the NVS partition binary file on the development host with the following command:

\begin{tabular}{d}
\footnotesize\texttt{\$ \bfseries python \$IDF\_PATH/components/nvs\_flash/nvs\_partition\_generator/nvs\_partition\_\newline gen.py --input\ mass\_prod.csv --output mass\_prod.bin --size NVS\_PARTITION\_SIZE}
\end{tabular}

\end{document}